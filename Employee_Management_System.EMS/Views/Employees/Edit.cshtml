@model EmployeeEditVm
@{
   ViewData["Title"] = "Edit Employee";
}

<div class="container mt-4">

   <!-- Header -->
   <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="fw-bold text-purple">
         <i class="bi bi-pencil-square me-2"></i> Edit Employee
      </h2>
      <a class="btn btn-secondary shadow-sm" asp-action="Index">
         <i class="bi bi-arrow-left"></i> Back to List
      </a>
   </div>

   <!-- Form -->
   <form asp-action="Edit" asp-route-id="@Model.Id" method="post" enctype="multipart/form-data"
      class="row g-3 shadow-sm p-5 rounded bg-light">

      <input type="hidden" asp-for="Id" />

      <div class="col-md-6">
         <label asp-for="FullName" class="form-label fw-semibold text-secondary"></label>
         <input asp-for="FullName" class="form-control border-info shadow-sm" />
         <span asp-validation-for="FullName" class="text-danger"></span>
      </div>

      <div class="col-md-6">
         <label asp-for="Email" class="form-label fw-semibold text-secondary"></label>
         <input asp-for="Email" class="form-control border-info shadow-sm" />
         <span asp-validation-for="Email" class="text-danger"></span>
      </div>

      <div class="col-md-6">
         <label asp-for="PhoneNumber" class="form-label fw-semibold text-secondary"></label>
         <input asp-for="PhoneNumber" class="form-control border-info shadow-sm" />
         <span asp-validation-for="PhoneNumber" class="text-danger"></span>
      </div>

      <div class="col-md-3">
         <label asp-for="HireDate" class="form-label fw-semibold text-secondary"></label>
         <input asp-for="HireDate" class="form-control border-info shadow-sm" type="date" />
         <span asp-validation-for="HireDate" class="text-danger"></span>
      </div>

      <div class="col-md-3">
         <label asp-for="Salary" class="form-label fw-semibold text-secondary"></label>
         <input asp-for="Salary" class="form-control border-info shadow-sm" />
         <span asp-validation-for="Salary" class="text-danger"></span>
      </div>

      <div class="col-md-6">
         <label asp-for="DepartmentId" class="form-label fw-semibold text-secondary">Department</label>
         @Html.DropDownListFor(m => m.DepartmentId, Model.Departments!, "-- Select --",
         new { @class = "form-select border-warning shadow-sm" })
         <span asp-validation-for="DepartmentId" class="text-danger"></span>
      </div>
      <div class="col-md-6">
         <label asp-for="JobTitleId" class="form-label fw-semibold text-secondary">Job Title</label>
         @Html.DropDownListFor(m => m.JobTitleId, Model.JobTitles!, "-- Select --",
                  new { @class = "form-select border-purple shadow-sm" })
         <span asp-validation-for="JobTitleId" class="text-danger"></span>
      </div>

      <div class="col-md-6">
         <label asp-for="Image" class="form-label fw-semibold text-secondary">Profile Image</label>
         <input asp-for="Image" class="form-control border-info shadow-sm" type="file"
            accept=".jpg,.jpeg,.png,.gif,.webp" />
         <span asp-validation-for="Image" class="text-danger"></span>

         @if (!string.IsNullOrEmpty(Model.ExistingImagePath))
         {
            <p class="mt-2 fw-semibold text-muted">Current Image:</p>
            <img src="@Model.ExistingImagePath" alt="Profile" width="120" class="img-thumbnail shadow-sm rounded" />
         }
      </div>

      <div class="col-12 d-flex justify-content-end gap-2 mt-3">
         <button class="btn btn-purple shadow-sm" type="submit">
            <i class="bi bi-save"></i> Save Changes
         </button>
         <a class="btn btn-outline-secondary shadow-sm" asp-action="Index">
            <i class="bi bi-x-circle"></i> Cancel
         </a>
      </div>
   </form>
</div>

@section Scripts {
   <partial name="_ValidationScriptsPartial" />
}
